<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content = "width = device-width, initial-scale = 1">
    <title></title>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Material Icons' rel='stylesheet'>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300&display=swap" rel="stylesheet">
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<!-- SweetAlert -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.4/dist/sweetalert2.min.css">
</head>
  <style>
    body{
  margin: 0;
  padding: 0;
  background: #fff;
}
form{
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%,-50%);
  border: 1px solid #9c9c9c;
  border-radius: 10px;
  width: 750px;
  padding: 25px;
  background: #fff;
}
.logo{
  width: 100px;
  padding: 5px 0;
  margin: 0 0 0 -15px;
}
.head{
  padding-left: 10px;
}
.head h3{
  margin: 0;
  font-size: 23px;
  font-family: jost;
  position: relative;
  letter-spacing: 1px;
}
input{
  outline: none;
  border: 1px solid #9c9c9c;
  border-radius: 5px;
  padding: 0 10px;
  height: 35px;
  font-size: 15px;
}
input:focus{
  border: 1.5px solid #1f52f9;
}
.name{
  display: inline-block;
}
input[type="name"]{
  display: block;
  margin: 30px 0 0 10px;
}
input[type="username"]{
  display: block;
  width: 390px;
  margin: 10px 0 0 10px;
}
.gmail{
  position: relative;
  display: block;
  top: -47px;
  left: 330px;
  font-family:roboto;
  color: #333;
  font-size: 15px;
  cursor: default;
}
.pass{
  display: inline-block;
}
.password{
  display: block;
  width: 140px;
  margin: 0 5px 0 10px;
}
label{
  position: relative;
  font-family:roboto;
  color: #555;
  font-size: 15px;
  pointer-events: none;
  left: 20px;
  top: -28px;
  transition: .2s all;
}
input:focus ~label,
input:valid ~ label{
  top: -49px;
  left: 15px;
  background: #fff;
  padding: 0 5px;
  font-size: 10px;
  color: #1f52f9;
}
a{
  position: relative;
  font-family: roboto;
  text-decoration: none;
  display: block;
}
.line1{
  font-size: 12px;
  margin: -30px 0 0 15px;
}
.line2{
  color: #1144ed;
  font-size: 15px;
  margin: 20px 0 20px 15px;
}
.line3{
  font-size: 12px;
  margin: -10px 0 0 15px;
  width: 310px;
}
.line4{
  font-size: 15px;
  margin: 20px 8px;
  color: #4971f6;
  display: inline-block;
  font-family: arial rounded mt;
}
input[type="submit"]{
  background:  #4971f6;
  color: #fff;
  border: none;
  padding:10px 30px;
  border-radius: 5px;
  margin:  40px 0 30px 180px;
  cursor: pointer;
  font-size: 15px;
}
input[type="submit"]:hover{
  background: #254fdb;
}
.iconeye{
  display: inline-block;
}
#eye{
  display: block;
  position: relative;
  top: -18px;
  width:27px;
  cursor: pointer;
}
.side-image{
  display: inline-block;
  position: relative;
  top: 50px;
  left: 50%;
  transform: translate(50%,50%);
}
.side-logo{
  width: 230px;
}

  </style>
  <body>
    <div class="main">
    <form name = "admin" action = "{{ url_for('registerUser') }}" method = 'post' class="form" onsubmit = "return validate()">
      <div class="head">
        <img src="{{url_for('static', filename='googlelogo.png')}}"  alt="" class="logo">
        <h3>Create your Vmail Account</h3>
      </div>
      <div class="name">
        <input type="name" name = 'uname' id = "user" required>
        <span id = "usererror" class = "text-danger"></span>
        <label>Username</label>
      </div>
      <div class="name">
        <input type="name" id = "phone" name = 'phonenum' required>
        <span id = "phoneerror" class = "text-danger"></span>
        <label>Mobile Number</label>
      </div>
      <div class="user-name">
        <input type="username"  id = "email" name = 'email' required>
        <span id = "emailerror" class = "text-danger"></span>
        <label>MailId</label>
        <span class="gmail"></span>
      </div>
      <br>
      <a class="line1">You can use letters, numbers & periods</a>
      <br>
      <div class="pass">
        <input type="password" name = 'password'  class="password" id="pass1" required>
        <span id = "pwderror" class = "text-danger"></span>

        <label>Password</label>
      </div>
        <div class="iconeye">
      <img src="{{url_for('static', filename='eyehide.png')}}" onclick="show();" id="eye">
      </div>
      <a class="line3">Use 8 or more characters with a mix of letters, numbers & symbols</a>
      <br>
      <a href="{{ url_for('login') }}"  class="line4">Sign in instead</a>
      <input type="submit" value="Register">
    </form>
    </div>

    <script>
 function validate(){
            var user = document.getElementById("user").value;
            var pwd = document.getElementById("pass1").value;
            var email = document.getElementById("email").value;
            var phone = document.getElementById("phone").value;
            var reg1 = /^[a-zA-Z0-9]{6,}$/;
            var reg2 = /^[a-zA-Z0-9]{6,}$/;
            var reg3 = 	
/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
               var reg4 = /^[789]{1}[0-9]{9}$/;
               if(user.match(reg1)){
                document.getElementById("usererror").innerHTML = "";
               }
               else{
                document.getElementById("usererror").innerHTML = "Invalid User name";
                return false;
               }
               if(phone.match(reg4)){
                document.getElementById("phoneerror").innerHTML = "";
               }
               else{
                document.getElementById("phoneerror").innerHTML = "Invalid Phone Numer";
                return false;
               }
               if(email.match(reg3)){
                document.getElementById("emailerror").innerHTML = "";
               }
               else{
                document.getElementById("emailerror").innerHTML = "Invalid Email";
                return false;
               }
               if(pwd.match(reg2)){
                document.getElementById("pwderror").innerHTML = "";
               }
               else{
                document.getElementById("pwderror").innerHTML = "Invalid Password";
                return false;
               }
               // All validations passed, show success message
        showSuccessMessage();
        return true;
              }
              function showError(message) {
        Swal.fire({
          icon: 'error',
          title: 'Validation Error',
          text: message,
        });
      }
        function showSuccessMessage() {
        Swal.fire({
          icon: 'success',
          title: 'Registration Successful',
          showConfirmButton: false,
          timer: 1500
        });
      }
    function show(){

      var password= document.getElementById('pass1');
      confirm= document.getElementById('pass2');
      image= document.getElementById('eye');

      if (password.type==="password",confirm.type==="password") {
        password.type="text";
        confirm.type="text";
        image.setAttribute('src', 'eyeshow.png');

      }else if (password.type==="text",confirm.type==="text"){
        password.type="password";
        confirm.type="password";
        image.setAttribute('src', 'eyehide.png');
      }
    }
   
    </script>
  </body>
</html>
